@namespace MauiLearningPlatform.Components.Course

<div class="prose max-w-none p-6">
<h1 id="repositories-en-interfaces" tabindex="-1"><a class="header-anchor" href="#repositories-en-interfaces" aria-hidden="true">#</a> Repositories en Interfaces</h1><p>In het vorige hoofdstuk leerde je om gegevens toe te voegen aan een ObservableCollection. De volgende stap is om gegevens op te halen van een externe bron. De interactie met een database wordt traditioneel verzorgd door een Repository.</p><p>Het gebruik van interfaces en repositories is een belangrijk ontwerpprincipe in softwareontwikkeling, vooral binnen de context van de Model-View-ViewModel (MVVM) architectuur en bij het volgen van de principes van Clean Architecture.</p><h2 id="interfaces" tabindex="-1"><a class="header-anchor" href="#interfaces" aria-hidden="true">#</a> Interfaces</h2><p>Interfaces bieden een manier om te definiëren wat een klasse moet doen, zonder te specificeren hoe het moet gebeuren. Door interfaces te gebruiken, kunnen componenten onafhankelijk van elkaar veranderen en evolueren. Dit betekent dat je een implementatie kunt wijzigen zonder andere delen van je applicatie te beïnvloeden.</p><blockquote><p>Afspraken:</p><ul><li>Interfaces en Repositories plaats je in een map Data.</li><li>Methodes die bij een bepaald model horen, plaats je in dezelfde Repository.</li><li>Je maakt eerst de methode in een I<em>Naam Model</em>Repository (Interface) en werk je daarna uit in de <em>Naam Model</em>Repository.</li><li>Repositories worden geregistreerd als een service in <code>MauiProgram.cs</code> en daarna geïnjecteerd als dependency in de constructor van je ViewModel.</li></ul></blockquote><p>In deze les ga je nog geen database aanspreken, maar voeg je een hard-coded lijst met gegevens toe in de Repository</p><ol><li>Maak in je project een map <code>Data</code> aan. in de map <code>Data</code> maak je de mappen <code>IRepositories</code> en <code>Repositories</code>.</li><li>Maak in de map <code>IRepositories</code> een <strong>Interface</strong> <code>IWerknemerRepository</code>.</li><li>Voorzie een methode om de werknemers op te halen.</li><li>Voeg een globale verwijzing toe naar <code>MauiIntroductie.Data.IRepositories</code> en <code>MauiIntroductie.Data.Repositories</code> in GlobalUsings.cs</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>    <span class="token keyword">namespace</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>IRepositories</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IWerknemerRepository</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Werknemer<span class="token punctuation">&gt;</span></span> <span class="token function">GetWerknemers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="repositories" tabindex="-1"><a class="header-anchor" href="#repositories" aria-hidden="true">#</a> Repositories</h2><p>In een Repository werk je de methodes uit om gegevens aan te maken (CREATE), op te halen (READ), te wijzigen (UPDATE) of te verwijderen (DELETE). Deze methodes worden dan aangeroepen in je ViewModel.</p><p>In onderstaand voorbeeld voeg je een hard-coded lijst toe en een methode om de gegevens op te halen.</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">namespace</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>Repositories</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WerknemerRepository</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IWerknemerRepository</span></span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Lijst met werknemers</span>
        <span class="token keyword">public</span> <span class="token class-name">List<span class="token punctuation">&lt;</span>Werknemer<span class="token punctuation">&gt;</span></span> Werknemers <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Werknemer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> Voornaam <span class="token operator">=</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span> Achternaam <span class="token operator">=</span> <span class="token string">&quot;Doe&quot;</span><span class="token punctuation">,</span> Functie <span class="token operator">=</span> <span class="token string">&quot;Manager&quot;</span><span class="token punctuation">,</span> Geboortedatum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">1987</span><span class="token punctuation">,</span><span class="token number">08</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> InDienst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span><span class="token number">09</span><span class="token punctuation">,</span><span class="token number">01</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Werknemer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> Voornaam <span class="token operator">=</span> <span class="token string">&quot;Linn&quot;</span><span class="token punctuation">,</span> Achternaam <span class="token operator">=</span> <span class="token string">&quot;Kendal&quot;</span><span class="token punctuation">,</span> Functie <span class="token operator">=</span> <span class="token string">&quot;Developer&quot;</span><span class="token punctuation">,</span> Geboortedatum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2002</span><span class="token punctuation">,</span><span class="token number">07</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> InDienst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span><span class="token number">09</span><span class="token punctuation">,</span><span class="token number">01</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Werknemer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> Voornaam <span class="token operator">=</span> <span class="token string">&quot;Mark&quot;</span><span class="token punctuation">,</span> Achternaam <span class="token operator">=</span> <span class="token string">&quot;Mathys&quot;</span><span class="token punctuation">,</span> Functie <span class="token operator">=</span> <span class="token string">&quot;Designer&quot;</span><span class="token punctuation">,</span> Geboortedatum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2001</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">03</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> InDienst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Werknemer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> Voornaam <span class="token operator">=</span> <span class="token string">&quot;Lenno&quot;</span><span class="token punctuation">,</span> Achternaam <span class="token operator">=</span> <span class="token string">&quot;Brimelow&quot;</span><span class="token punctuation">,</span> Functie <span class="token operator">=</span> <span class="token string">&quot;Designer&quot;</span><span class="token punctuation">,</span> Geboortedatum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">1978</span><span class="token punctuation">,</span><span class="token number">09</span><span class="token punctuation">,</span><span class="token number">09</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> InDienst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">1999</span><span class="token punctuation">,</span> <span class="token number">01</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Werknemer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> Voornaam <span class="token operator">=</span> <span class="token string">&quot;Theresa&quot;</span><span class="token punctuation">,</span> Achternaam <span class="token operator">=</span> <span class="token string">&quot;Korf&quot;</span><span class="token punctuation">,</span> Functie <span class="token operator">=</span> <span class="token string">&quot;Designer&quot;</span><span class="token punctuation">,</span> Geboortedatum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">1996</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">27</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> InDienst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2007</span><span class="token punctuation">,</span><span class="token number">07</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Werknemer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> Voornaam <span class="token operator">=</span> <span class="token string">&quot;Natalie&quot;</span><span class="token punctuation">,</span> Achternaam <span class="token operator">=</span> <span class="token string">&quot;Spurway&quot;</span><span class="token punctuation">,</span> Functie <span class="token operator">=</span> <span class="token string">&quot;Developer&quot;</span><span class="token punctuation">,</span> Geboortedatum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">1980</span><span class="token punctuation">,</span><span class="token number">03</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> InDienst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2003</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">01</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token comment">// Methode om de werknemers op te vragen</span>
        <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Werknemer<span class="token punctuation">&gt;</span></span> <span class="token function">GetWerknemers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Werknemers<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dependency-injection" tabindex="-1"><a class="header-anchor" href="#dependency-injection" aria-hidden="true">#</a> Dependency Injection</h2><p>In een goed ontworpen applicatie volgens de principes van Dependency Injection (DI), is het beter om de interface te registreren in de DI-container en niet de concrete repository-implementatie. Dit zorgt voor een losse koppeling en maakt het eenvoudiger om implementaties te wijzigen of mocks te gebruiken tijdens het testen.</p><ol><li>In <code>MauiProgram.cs</code> of de configuratieplek van je DI-container, registreer je de interface met de concrete implementatie:</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>    builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IWerknemerRepository<span class="token punctuation">,</span> WerknemerRepository<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>Gebruik de Interface in je ViewModel <code>WerknemerViewModel</code> en haal met de methode <strong>GetWerknemers()</strong> de lijst met werknemers op uit je Repository. Deze worden in een nieuwe <code>ObservableCollection&lt;Werknemer&gt;</code> geplaatst.</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token comment">//Overige code</span>
        <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IWerknemerRepository</span> _werknemerRepository<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">WerknemerViewModel</span><span class="token punctuation">(</span><span class="token class-name">IWerknemerRepository</span> werknemerRepository<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Title <span class="token operator">=</span> <span class="token string">&quot;Werknemer toevoegen&quot;</span><span class="token punctuation">;</span>
            _werknemerRepository <span class="token operator">=</span> werknemerRepository<span class="token punctuation">;</span>
            Werknemers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ObservableCollection<span class="token punctuation">&lt;</span>Werknemer<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_werknemerRepository<span class="token punctuation">.</span><span class="token function">GetWerknemers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Werknemer <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token comment">//Overige code</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Resultaat: <img src="https://i.imgur.com/TTxNSL0.png" alt="picture 0"></p><h2 id="picker-binden-aan-observablecollection" tabindex="-1"><a class="header-anchor" href="#picker-binden-aan-observablecollection" aria-hidden="true">#</a> Picker binden aan ObservableCollection</h2><p>In het vorige hoofdstuk heb je een picker gebruikt om de functie van de werknemer in te geven. Deze lijst was hard-coded in <code>Werknemer.xaml</code>. Je zou deze lijst ook uit een Interface + Repository kunnen halen en die binden aan de ItemSource van de Picker. Je begint met dezelfde stappen als hierboven uitgelegd.</p><ol><li>Voorzie een model <strong>Functie</strong> met een attribuut <em>Naam</em> (string). Voorzie ook een <strong>ToString-methode</strong> die de Naam teruggeeft. Op die manier kun je <em>Functie</em> gebruiken in je Xaml-code ipv <em>Functie.Naam</em>.</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Functie</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Naam <span class="token punctuation">{</span>  <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Naam<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Voorzie een interface en repository voor dit nieuwe model <strong>Functie</strong>.</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FunctieRepository</span><span class="token punctuation">:</span><span class="token type-list"><span class="token class-name">IFunctieRepository</span></span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Lijst met werknemers</span>
        <span class="token keyword">public</span> <span class="token class-name">List<span class="token punctuation">&lt;</span>Functie<span class="token punctuation">&gt;</span></span> Functies <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Functie</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Naam <span class="token operator">=</span> <span class="token string">&quot;Manager&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Functie</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Naam <span class="token operator">=</span> <span class="token string">&quot;Developer&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Functie</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Naam <span class="token operator">=</span> <span class="token string">&quot;Designer&quot;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// Methode om de werknemers op te vragen</span>
        <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Functie<span class="token punctuation">&gt;</span></span> <span class="token function">GetFuncties</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Functies<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>Registreer de interface voor Dependency Injection in <code>MauiProgram.cs</code> en injecteer de repository in de constructor van je ViewModel.</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>    builder <span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IFunctieRepository<span class="token punctuation">,</span> FunctieRepository<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="4"><li>Maak een nieuwe ObservableCollection voor functie en gebruik een methode in de constructor van je viewmodel om de functies op te halen.</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ObservableProperty</span></span><span class="token punctuation">]</span>
        <span class="token class-name">ObservableCollection<span class="token punctuation">&lt;</span>Functie<span class="token punctuation">&gt;</span></span> functies<span class="token punctuation">;</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ObservableProperty</span></span><span class="token punctuation">]</span>
        <span class="token class-name">Werknemer</span> werknemer<span class="token punctuation">;</span>

        <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IWerknemerRepository</span> _werknemerRepository<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IFunctieRepository</span> _functieRepository<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">WerknemerViewModel</span><span class="token punctuation">(</span><span class="token class-name">IWerknemerRepository</span> werknemerRepository<span class="token punctuation">,</span> <span class="token class-name">IFunctieRepository</span> functieRepository<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Title <span class="token operator">=</span> <span class="token string">&quot;Werknemer toevoegen&quot;</span><span class="token punctuation">;</span>
            _werknemerRepository <span class="token operator">=</span> werknemerRepository<span class="token punctuation">;</span>
            _functieRepository <span class="token operator">=</span> functieRepository<span class="token punctuation">;</span>   
            Werknemers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ObservableCollection<span class="token punctuation">&lt;</span>Werknemer<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_werknemerRepository<span class="token punctuation">.</span><span class="token function">GetWerknemers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Functies <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ObservableCollection<span class="token punctuation">&lt;</span>Functie<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_functieRepository<span class="token punctuation">.</span><span class="token function">GetFuncties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Werknemer <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5.Aangezien je nu een model gebruikt voor de functies, moet je ook het model <code>Werknemer</code> en de <code>WerknemerRepository</code> aanpassen. <strong>Werknemer.cs</strong></p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>    <span class="token keyword">public</span> <span class="token return-type class-name">Functie</span> Functie <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>WerknemerRepository</strong></p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>    <span class="token keyword">public</span> <span class="token class-name">List<span class="token punctuation">&lt;</span>Werknemer<span class="token punctuation">&gt;</span></span> Werknemers <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Werknemer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> Voornaam <span class="token operator">=</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span> Achternaam <span class="token operator">=</span> <span class="token string">&quot;Doe&quot;</span><span class="token punctuation">,</span> Functie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Functie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>Naam<span class="token operator">=</span><span class="token string">&quot;Manager&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> Geboortedatum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">1987</span><span class="token punctuation">,</span><span class="token number">08</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> InDienst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span><span class="token number">09</span><span class="token punctuation">,</span><span class="token number">01</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Werknemer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> Voornaam <span class="token operator">=</span> <span class="token string">&quot;Linn&quot;</span><span class="token punctuation">,</span> Achternaam <span class="token operator">=</span> <span class="token string">&quot;Kendal&quot;</span><span class="token punctuation">,</span> Functie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Functie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>Naam<span class="token operator">=</span><span class="token string">&quot;Developer&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> Geboortedatum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2002</span><span class="token punctuation">,</span><span class="token number">07</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> InDienst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span><span class="token number">09</span><span class="token punctuation">,</span><span class="token number">01</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Werknemer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> Voornaam <span class="token operator">=</span> <span class="token string">&quot;Mark&quot;</span><span class="token punctuation">,</span> Achternaam <span class="token operator">=</span> <span class="token string">&quot;Mathys&quot;</span><span class="token punctuation">,</span> Functie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Functie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>Naam<span class="token operator">=</span><span class="token string">&quot;Designer&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> Geboortedatum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2001</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">03</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> InDienst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Werknemer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> Voornaam <span class="token operator">=</span> <span class="token string">&quot;Lenno&quot;</span><span class="token punctuation">,</span> Achternaam <span class="token operator">=</span> <span class="token string">&quot;Brimelow&quot;</span><span class="token punctuation">,</span> Functie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Functie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>Naam<span class="token operator">=</span><span class="token string">&quot;Designer&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> Geboortedatum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">1978</span><span class="token punctuation">,</span><span class="token number">09</span><span class="token punctuation">,</span><span class="token number">09</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> InDienst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">1999</span><span class="token punctuation">,</span> <span class="token number">01</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Werknemer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> Voornaam <span class="token operator">=</span> <span class="token string">&quot;Theresa&quot;</span><span class="token punctuation">,</span> Achternaam <span class="token operator">=</span> <span class="token string">&quot;Korf&quot;</span><span class="token punctuation">,</span> Functie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Functie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>Naam<span class="token operator">=</span><span class="token string">&quot;Designer&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> Geboortedatum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">1996</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">27</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> InDienst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2007</span><span class="token punctuation">,</span><span class="token number">07</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Werknemer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> Voornaam <span class="token operator">=</span> <span class="token string">&quot;Natalie&quot;</span><span class="token punctuation">,</span> Achternaam <span class="token operator">=</span> <span class="token string">&quot;Spurway&quot;</span><span class="token punctuation">,</span> Functie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Functie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>Naam<span class="token operator">=</span><span class="token string">&quot;Developer&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> Geboortedatum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">1980</span><span class="token punctuation">,</span><span class="token number">03</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> InDienst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2003</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">01</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>Pas de picker aan op <code>WerknemerPage.xaml</code> als volgt:</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Picker</span> <span class="token attr-name">ItemsSource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding Functies}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">SelectedItem</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding Werknemer.Functie}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>krijg je volgend resultaat: <img src="https://i.imgur.com/ul3o6VR.png" alt="picture 0"></p><p>Voeg daarom ook een <strong>ItemDisplayBinding</strong> toe waarin je meegeeft welk attribuut uit je model je wil weergeven in je Picker.</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Picker</span> <span class="token attr-name">ItemsSource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding Functies}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ItemDisplayBinding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding Naam}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">SelectedItem</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding Werknemer.Functie}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Het resultaat is nu als volgt: <img src="https://i.imgur.com/BhQJhWZ.png" alt="picture 1"></p><h3 id="equals" tabindex="-1"><a class="header-anchor" href="#equals" aria-hidden="true">#</a> Equals</h3><p>Het lukt nu om voor een nieuwe werknemer een functie te selecteren in de Picker. Maar als je een werknemer selecteert in de CollectionView, worden alle formuliervelden ingevuld, behalve de Picker?</p><p>De Picker werkt met binding op objecten. Om ervoor te zorgen dat de objecten correct worden vergeleken moet je een <strong>equals-methode</strong> toevoegen in het model dat je aanspreekt. In dit geval is de ItemSource een ObservableCollection van Functies. Dus voeg je de <strong>equals-methode</strong> toe aan je model <code>Functie</code>.</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Functie</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Naam <span class="token punctuation">{</span>  <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span><span class="token punctuation">?</span></span> obj<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> obj <span class="token keyword">is</span> <span class="token class-name">Functie</span> functie <span class="token operator">&amp;&amp;</span> functie<span class="token punctuation">.</span>Naam <span class="token operator">==</span> Naam<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Naam<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>De Picker zou nu moeten werken, ook als je een werknemer selecteert in je CollectionView.</p>
</div>
