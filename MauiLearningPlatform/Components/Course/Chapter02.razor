@namespace MauiLearningPlatform.Components.Course

<div class="prose max-w-none p-6">
<h1 id="mvvm-en-databinding" tabindex="-1"><a class="header-anchor" href="#mvvm-en-databinding" aria-hidden="true">#</a> MVVM en databinding</h1><p>In de introductie heb je Views aangemaakt. Hierin zit de layout die de gebruiker te zien krijgt. Het werken met Views maakt deel uit van het MVVM-principe. MVVM staat voor Models - Views - ViewModels. Het is een ontwerppatroon voor applicaties wat, eenvoudig gezegd, een manier is om onze bestanden te structureren in mappen. In plaats van alle code in één bestand te schrijven, splits je het op in verschillende lagen. Dit heeft verschillende voordelen:</p><ul><li>leesbaarheid vergroten</li><li>onderhoud is eenvoudiger</li><li>maakt herbruikbaarheid en testing mogelijk</li><li>scheiding van verantwoordelijkheden</li></ul><p>Het opsplitsen van je code in verschillende lagen is één van de basisprincipes van Clean Architecture. Een ander voordeel van Clean Architecture is dat je delen van je programma kunt vervangen door andere frameworks indien gewenst. Stel dat je je SQL database wil veranderen door een MySQL-database of een NoSQL database, dan hoef je alleen maar je repositories aan te passen. Of stel dat je in plaats van je front-end framework, bijvoorbeeld van React naar Angular, wil veranderen. Die uitwisselbaarheid tussen de verschillende lagen maakt je code overzichtelijk en onderhoudbaar.</p><h2 id="mvvm-principe" tabindex="-1"><a class="header-anchor" href="#mvvm-principe" aria-hidden="true">#</a> MVVM-Principe:</h2><p><img src="https://i.imgur.com/LUTUHsq.png" alt=""></p><ul><li><strong>Views</strong>: Hoe wordt informatie weergegeven. Een view bevat de layout en de controls voor een pagina.</li><li><strong>ViewModels</strong>: Vergelijkbaar met de code-behind voor onze view. Een ViewModel bepaalt welke informatie er op een View getoond wordt. Een ViewModel reageert ook op gebeurtenissen van de View. bv als je op een knop klikt.</li><li><strong>Model</strong>: Een Model bevat de blueprint voor de data die gebruikt wordt door het ViewModel. Dit zijn onze classes.</li></ul><h2 id="viewmodels" tabindex="-1"><a class="header-anchor" href="#viewmodels" aria-hidden="true">#</a> ViewModels</h2><p>Een ViewModel bevat de logica om een View te voorzien van gegevens en logica voor knoppen en dergelijke. Het Viewmodel houdt zich niet bezig met hoe de gegevens worden weergegeven. Dat is de taak van de View. Op je View plaats je bv een invoerveld en een knop. In je ViewModel schrijf je de logica van wat er moet gebeuren met de tekst in het invoerveld als je op de knop drukt. Hiervoor moet je een koppeling leggen tussen de View en het ViewModel.</p><p>In .NET MAUI kun je <strong>databinding</strong> toepassen om elke wijziging automatisch door te gegeven. <strong>Databinding</strong> is het principe waarbij het systeem registreert als je op de View iets wijzigt of en dit automatisch doorgeeft aan je ViewModel. Andersom kunnen wijzigingen in variabelen op je ViewModel automatisch worden doorgegeven aan je View. Dit gebeurt zonder dat je daarbij op een knop hoeft te drukken. De kern hiervan is <strong>INotifyPropertyChanged</strong> die de UI gaat inlichten als er iets wijzigt.</p><p>Hieronder vind je een voorbeeld van databinding met een ViewModel op de uitgebreide manier. Nadien leer je hoe je het proces kunnen vereenvoudigen met de CommunityToolkit.mvvm.</p><h2 id="uitgebreid-voorbeeld-met-inotifypropertychanged" tabindex="-1"><a class="header-anchor" href="#uitgebreid-voorbeeld-met-inotifypropertychanged" aria-hidden="true">#</a> Uitgebreid voorbeeld met INotifyPropertyChanged</h2><h3 id="databinding-in-het-viewmodel-persoonviewmodel-cs" tabindex="-1"><a class="header-anchor" href="#databinding-in-het-viewmodel-persoonviewmodel-cs" aria-hidden="true">#</a> Databinding in het ViewModel (PersoonViewModel.cs)</h3><p>Maak een nieuw Item van het type <em>Class</em> aan in een nieuwe map <code>ViewModels</code> en geef die ViewModel de naam <code>PersoonViewModel.cs</code>. In de code hieronder wordt <strong>_naam</strong> gebruikt om de werkelijke waarde van de Naam-eigenschap te bewaren. <strong>Naam</strong> is de public eigenschap die gebruikt wordt om <strong>_naam</strong> op te halen of te wijzigen. Dit bevordert de data-encapsulatie. Dit is leerstof die je kent uit de lessen van object-georienteerd programmeren.</p><p>Het PersoonViewMode erft over van de klasse <strong>INotifyPropertyChanged</strong> om wijzigingen in de naam aan de UI te melden wanneer ze zich voordoen. Om INotifyPropertyChanged te implementeren, heb je een methode nodig <strong>OnPropertyChanged</strong>.</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersoonViewModel</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">INotifyPropertyChanged</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">string</span></span> _naam<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Naam
        <span class="token punctuation">{</span>
            <span class="token comment">//Geeft de huidige waarde van _naam terug</span>
            <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _naam<span class="token punctuation">;</span> <span class="token punctuation">}</span>
            <span class="token keyword">set</span>
            <span class="token punctuation">{</span>
                <span class="token comment">//Als de waarde verandert, wijzigt _naam naar de nieuwe waarde.</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>_naam <span class="token operator">!=</span> <span class="token keyword">value</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    _naam <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
                    <span class="token function">OnPropertyChanged</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>Naam<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//Wanneer een eigenschap van een object wordt gewijzigd, wordt deze gebeurtenis PropertyChanged geactiveerd om aan te geven dat de waarde van die eigenschap is gewijzigd en dat iets anders, zoals de gebruikersinterface, mogelijk moet reageren op die wijziging.</span>
        <span class="token keyword">public</span> <span class="token keyword">event</span> <span class="token class-name">PropertyChangedEventHandler</span> PropertyChanged<span class="token punctuation">;</span>

        <span class="token comment">//Dit is een beschermde (protected) methode genaamd OnPropertyChanged, die verantwoordelijk is voor het aanroepen van de PropertyChanged-gebeurtenis wanneer een eigenschap is gewijzigd. De methode accepteert een propertyName als parameter, wat de naam is van de eigenschap die is gewijzigd.</span>
        <span class="token keyword">protected</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnPropertyChanged</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> propertyName<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            PropertyChanged<span class="token punctuation">?.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PropertyChangedEventArgs</span><span class="token punctuation">(</span>propertyName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="databinding-in-de-view-voorbeeldpage-xaml" tabindex="-1"><a class="header-anchor" href="#databinding-in-de-view-voorbeeldpage-xaml" aria-hidden="true">#</a> Databinding in de View (VoorbeeldPage.xaml)</h3><p>Maak een nieuwe pagina <code>VoorbeeldPage.xaml</code> in de map <code>Views</code> met een label en een invoerveld (Entry), waarin je een naam kunt typen. Neem volgende gegevens over:</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentPage</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.microsoft.com/dotnet/2021/maui<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name"><span class="token namespace">xmlns:</span>x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.microsoft.com/winfx/2009/xaml<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name"><span class="token namespace">xmlns:</span>viewmodel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clr-namespace:MauiIntroductie.ViewModels<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name"><span class="token namespace">x:</span>Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MauiIntroductie.Views.VoorbeeldPage<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name">Title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Voorbeeld_Naam<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StackLayout</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Entry</span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding Naam}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Label</span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding Naam}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StackLayout</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentPage</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Het Label wordt via databinding via ons ViewModel opgevuld. De <strong>Text</strong>-eigenschapen van het Label én de Entry worden &quot;gebind&quot; met de property <strong>Naam</strong> uit het Viewmodel (regel 8-9). Als je in de Entry iets intypt, zitten die gegevens ook automatisch in je ViewModel. Je ViewModel geeft dan direct die gegevens door aan de Text-eigenschap van je Label. Op die manier verschijnt de text van je Entry direct in je Label.</p><p>Je geeft de namespace van de map ViewModels mee op regel 4. Dit is interessant om te controleren of je wel bind met de juiste properties uit je ViewModel.</p><h3 id="registratie-van-de-view-en-viewmodel-als-een-service-mauiprogram-cs" tabindex="-1"><a class="header-anchor" href="#registratie-van-de-view-en-viewmodel-als-een-service-mauiprogram-cs" aria-hidden="true">#</a> Registratie van de View en ViewModel als een service (MauiProgram.cs)</h3><p>De View herkent, dankzij het toevoegen van de juiste namespace, welke properties er kunnen gebruikt worden om te binden met eigenschappen op de View. Maar achterliggend is de View nog niet gekoppeld aan het ViewModel. Hiervoor registeer je de View en het ViewModel als een service in MauiProgram.cs.</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>Views</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>ViewModels</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>Extensions<span class="token punctuation">.</span>Logging</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">MauiIntroductie</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MauiProgram</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">MauiApp</span> <span class="token function">CreateMauiApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> builder <span class="token operator">=</span> MauiApp<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            builder
                <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">UseMauiApp</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>App<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">ConfigureFonts</span><span class="token punctuation">(</span>fonts <span class="token operator">=&gt;</span>
                <span class="token punctuation">{</span>
                    fonts<span class="token punctuation">.</span><span class="token function">AddFont</span><span class="token punctuation">(</span><span class="token string">&quot;OpenSans-Regular.ttf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;OpenSansRegular&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    fonts<span class="token punctuation">.</span><span class="token function">AddFont</span><span class="token punctuation">(</span><span class="token string">&quot;OpenSans-Semibold.ttf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;OpenSansSemibold&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token preprocessor property">#<span class="token directive keyword">if</span> </span><span class="token return-type class-name">DEBUG</span>
    		builder<span class="token punctuation">.</span>Logging<span class="token punctuation">.</span><span class="token function">AddDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token preprocessor property">#</span><span class="token return-type class-name">endif</span>
            builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>VoorbeeldPage<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>PersoonViewModel<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Je voegt eerst verwijzingen toe naar de mappen van je Views en je ViewModels (regels 1-2). Daarna voeg je services toe aan je app van het type <strong>AddSingleton</strong> voor je View en je ViewModel (regels 23 en 25).</p><p>Je kunt services als <strong>Singleton</strong>, <strong>Transient</strong> of <strong>Scoped</strong> definiëren. Singletons worden één keer aangemaakt en blijven beschikbaar. Zo wordt het <code>PersoonViewModel.cs</code> één keer geïnstantieerd en gebruik je elke keer dezelfde instantie bij een request. Een Trasient wordt elke keer opnieuw aangemaakt bij het opvragen van het element. Dit vergt echter veel meer geheugen. Scoped wil zeggen dat je één instantie aanmaakt, maar enkel voor de huidige request.</p><p>Het is belangrijk om te overwegen welke services als singleton moeten worden geregistreerd op basis van de behoeften en vereisten van je toepassing. Als je wilt dat meerdere instanties van een service worden gemaakt, kun je in plaats daarvan andere levenscyclusbereiken, zoals Scoped of Transient, overwegen, afhankelijk van je use-case. Het is niet noodzakelijk om voor elk viewmodel of view een service aan te maken. Het hangt af van de vereisten van je applicatie en hoe je de levenscyclus van een object wilt beheren.</p><p>Een geregistreerd ViewModel kun je in meerdere Views gebruiken als een service door het mee te geven als parameter constructpr van de code-behind van de View. Dit proces noemt Dependency Injection. Als je een ViewModel wil injecteren, <strong>moet</strong> je ook de View registreren als een service in <code>MauiProgram.cs</code>.</p><blockquote><p>In deze cursus is de afspraak dat er voor elke View een apart ViewModel wordt aangemaakt.</p></blockquote><h3 id="dependency-injection-in-code-behind-voorbeeldpage-xaml-cs" tabindex="-1"><a class="header-anchor" href="#dependency-injection-in-code-behind-voorbeeldpage-xaml-cs" aria-hidden="true">#</a> Dependency Injection in code-behind (VoorbeeldPage.xaml.cs)</h3><p>In de code-behind van de View <em>injecteer</em> je het ViewModel in de constructor van je View (regel 6). De bindingcontext van de View wordt gelijkgesteld aan het ViewModel (regel 9). Nu is de binding compleet.</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>ViewModels</span><span class="token punctuation">;</span>
<span class="token keyword">namespace</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>Views</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">VoorbeeldPage</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ContentPage</span></span>
<span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token function">VoorbeeldPage</span><span class="token punctuation">(</span><span class="token class-name">PersoonViewModel</span> viewModel<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">InitializeComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		BindingContext<span class="token operator">=</span> viewModel<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Voeg nog navigatie toe in AppShell.xaml en dan kun je de applicatie testen.</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>    <span class="token range operator">..</span><span class="token punctuation">.</span>

    <span class="token operator">&lt;</span><span class="token class-name">ShellContent</span>
        Title<span class="token operator">=</span><span class="token string">&quot;Voorbeeld&quot;</span>
        ContentTemplate<span class="token operator">=</span><span class="token string">&quot;{DataTemplate views:VoorbeeldPage}&quot;</span>
        Route<span class="token operator">=</span><span class="token string">&quot;VoorbeeldPage&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>Shell<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Het resultaat ziet er als volgt uit:</p><p><img src="https://i.imgur.com/njOpGPZ.png" alt="picture 0"></p><h2 id="communitytoolkit-mvvm-toevoegen-aan-het-project" tabindex="-1"><a class="header-anchor" href="#communitytoolkit-mvvm-toevoegen-aan-het-project" aria-hidden="true">#</a> CommunityToolkit.Mvvm toevoegen aan het project</h2><p>De werking van het ViewModel met INotifyPropertyChanged kan aanzienlijk vereenvoudigd worden met de package <strong>CommunityToolkit.Mvvm</strong>. De toolkit bevat codegenerators die achterliggend alle nodige methodes aanmaken. Installeer de laatste versie voor jouw .NET versie.</p><p><img src="https://i.imgur.com/6iRNvOB.png" alt=""></p><h2 id="verkort-voorbeeld-met-observableobject" tabindex="-1"><a class="header-anchor" href="#verkort-voorbeeld-met-observableobject" aria-hidden="true">#</a> Verkort voorbeeld met ObservableObject</h2><p>Wijzig het bestand PersoonViewModel.cs en voeg bovenaan de juiste verwijzing toe (regel 1).</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">CommunityToolkit<span class="token punctuation">.</span>Mvvm<span class="token punctuation">.</span>ComponentModel</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>ViewModel</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">PersoonViewModel</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObservableObject</span></span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ObservableProperty</span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> naam<span class="token punctuation">;</span>      
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Het ViewModel erft nu niet meer over van <strong>INotifyPropertyChanged</strong> maar van <strong>ObservableObject</strong>, die alle mogelijkheden van INotifyPropertyChanged implementeert. Je maakt van de class een partial class.(regel 5)</p><p>Elke variabele die je wil binden aan een eigenschap op een View krijgt het kenmerk <strong>ObservableProperty</strong>. Dit is een kenmerk bij het implementeren van INotifyPropertyChanged dat bij properties wordt toegevoegd zodat wijzigingen worden gemeld aan de UI.</p><p>Zoals je kunt zien is de hoeveelheid code aanzienlijk vermindert. De rest van de pagina&#39;s blijft ongewijzigd. Op de achtergrond wordt er door de Toolkit een bestand aangemaakt dat al de code bevat die je hebt weggehaald en dat er nog extra methoden aan toevoegt. Ook worden de private variabele naam en de publieke Naam aangemaakt.</p><blockquote><p>De <em>ObservableProperty</em> naam typ je in lower camelCase. Op je View en in de rest van je ViewModel gebruik je upper CamelCase.</p></blockquote><p>Dit is hoe het automatisch gegenereerd PersoonViewModel eruit ziet: <img src="https://i.imgur.com/nH5VWI3.png" alt="picture 1"></p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token comment">// &lt;auto-generated/&gt;</span>
<span class="token preprocessor property">#<span class="token directive keyword">pragma</span> warning disable</span>
<span class="token preprocessor property">#<span class="token directive keyword">nullable</span> enable</span>
<span class="token keyword">namespace</span> <span class="token namespace">MAuiIntroductie<span class="token punctuation">.</span>ViewModels</span>
<span class="token punctuation">{</span>
    <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">PersoonViewModel</span>
    <span class="token punctuation">{</span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>inheritdoc</span> <span class="token attr-name">cref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>naam<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
        <span class="token punctuation">[</span><span class="token keyword">global</span><span class="token punctuation">::</span>System<span class="token punctuation">.</span>CodeDom<span class="token punctuation">.</span>Compiler<span class="token punctuation">.</span><span class="token function">GeneratedCode</span><span class="token punctuation">(</span><span class="token string">&quot;CommunityToolkit.Mvvm.SourceGenerators.ObservablePropertyGenerator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;8.0.0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token keyword">global</span><span class="token punctuation">::</span>System<span class="token punctuation">.</span>Diagnostics<span class="token punctuation">.</span>CodeAnalysis<span class="token punctuation">.</span>ExcludeFromCodeCoverage<span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Naam
        <span class="token punctuation">{</span>
            <span class="token keyword">get</span> <span class="token operator">=&gt;</span> naam<span class="token punctuation">;</span>
            <span class="token keyword">set</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">global</span><span class="token punctuation">::</span>System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">.</span>EqualityComparer<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">&gt;</span><span class="token punctuation">.</span>Default<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span>naam<span class="token punctuation">,</span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token function">OnNaamChanging</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">OnPropertyChanging</span><span class="token punctuation">(</span><span class="token keyword">global</span><span class="token punctuation">::</span>CommunityToolkit<span class="token punctuation">.</span>Mvvm<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>__Internals<span class="token punctuation">.</span>__KnownINotifyPropertyChangingArgs<span class="token punctuation">.</span>Naam<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    naam <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
                    <span class="token function">OnNaamChanged</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">OnPropertyChanged</span><span class="token punctuation">(</span><span class="token keyword">global</span><span class="token punctuation">::</span>CommunityToolkit<span class="token punctuation">.</span>Mvvm<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>__Internals<span class="token punctuation">.</span>__KnownINotifyPropertyChangedArgs<span class="token punctuation">.</span>Naam<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>Executes the logic for when <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>see</span> <span class="token attr-name">cref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Naam<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> is changing.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token punctuation">[</span><span class="token keyword">global</span><span class="token punctuation">::</span>System<span class="token punctuation">.</span>CodeDom<span class="token punctuation">.</span>Compiler<span class="token punctuation">.</span><span class="token function">GeneratedCode</span><span class="token punctuation">(</span><span class="token string">&quot;CommunityToolkit.Mvvm.SourceGenerators.ObservablePropertyGenerator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;8.0.0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token keyword">partial</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnNaamChanging</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>Executes the logic for when <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>see</span> <span class="token attr-name">cref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Naam<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> just changed.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span></span>
        <span class="token punctuation">[</span><span class="token keyword">global</span><span class="token punctuation">::</span>System<span class="token punctuation">.</span>CodeDom<span class="token punctuation">.</span>Compiler<span class="token punctuation">.</span><span class="token function">GeneratedCode</span><span class="token punctuation">(</span><span class="token string">&quot;CommunityToolkit.Mvvm.SourceGenerators.ObservablePropertyGenerator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;8.0.0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token keyword">partial</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnNaamChanged</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Je ziet dat er achterliggend een private field <em>naam</em> gebruikt wordt en dat er een <em>get- en set-methode</em> worden aangemaakt. Daarnaast worden er ook twee extra methoden aangemaakt: <em>OnNaamChanging</em> en <em>OnNaamChanged</em>.</p><p>Je gebruikt deze methoden in je ViewModel als een partial:</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">CommunityToolkit<span class="token punctuation">.</span>Mvvm<span class="token punctuation">.</span>ComponentModel</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>ViewModels</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">PersoonViewModel</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObservableObject</span></span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ObservableProperty</span></span><span class="token punctuation">]</span>
        <span class="token class-name"><span class="token keyword">string</span></span> naam<span class="token punctuation">;</span>

        <span class="token keyword">partial</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnNaamChanging</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Shell<span class="token punctuation">.</span>Current<span class="token punctuation">.</span><span class="token function">DisplayAlert</span><span class="token punctuation">(</span><span class="token string">&quot;Changing&quot;</span><span class="token punctuation">,</span>Naam<span class="token punctuation">,</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">partial</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnNaamChanged</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Shell<span class="token punctuation">.</span>Current<span class="token punctuation">.</span><span class="token function">DisplayAlert</span><span class="token punctuation">(</span><span class="token string">&quot;Changed&quot;</span><span class="token punctuation">,</span> Naam<span class="token punctuation">,</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>OnNaamChanging(value)</strong>: Deze methode wordt aangeroepen vóór de wijziging van de eigenschap, om acties uit te voeren die moeten plaatsvinden voordat de eigenschapswaarde verandert. <img src="https://i.imgur.com/VnqCf0x.png" alt="picture 2"></p><p><strong>OnNaamChanged(value)</strong>: Deze methode wordt aangeroepen ná de wijziging van de eigenschap, om acties uit te voeren die moeten plaatsvinden nadat de eigenschapswaarde is veranderd. <img src="https://i.imgur.com/WgHDiW0.png" alt="picture 3"></p><h2 id="verwijzigen-in-globalusings-cs" tabindex="-1"><a class="header-anchor" href="#verwijzigen-in-globalusings-cs" aria-hidden="true">#</a> Verwijzigen in GlobalUsings.cs</h2><p>In elk klasse (ViewModels, Models, Repositories, MauiProgram.cs, Code-behind) moet je vaak, bovenaan de klasse, dezelfde verwijzingen(Usings) toevoegen naar bv je Views, ViewModels, Communitytoolkit.mvvm... Om dit te vereenvoudigen kun je een CodeFile <strong>GlobalUsings.cs</strong> aanmaken in de root van je Project. Dit bestand bevat de <em>Global</em> verwijzingen die in elke klasse kunnen worden gebruikt. Voeg volgende code in:</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>   <span class="token keyword">global</span> <span class="token keyword">using</span> <span class="token namespace">CommunityToolkit<span class="token punctuation">.</span>Mvvm<span class="token punctuation">.</span>ComponentModel</span><span class="token punctuation">;</span>
   <span class="token keyword">global</span> <span class="token keyword">using</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>Views</span><span class="token punctuation">;</span>
   <span class="token keyword">global</span> <span class="token keyword">using</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>ViewModels</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Telkens je nieuwe mappen aanmaakt of nieuwe packages toevoegt aan je project, voeg je een global using toe aan <code>GlobalUsings.cs</code>.</p></blockquote><h2 id="algemene-werkwijze" tabindex="-1"><a class="header-anchor" href="#algemene-werkwijze" aria-hidden="true">#</a> Algemene werkwijze</h2><blockquote><p>Samengevat geeft dit volgend stappenplan:</p><ol><li>Voeg Communitytoolkit.Mvvm toe aan je project. (Dit hoef je maar één keer te doen in elk project.)</li><li>Maak een nieuw ViewModel in de map <code>ViewModels</code>. Dit is een partial class die overerft van ObservableObject. Voeg ObservableProperties toe voor de eigenschappen die je wil binden aan je View.</li><li>Maak een View aan in de map <code>Views</code>. Voeg Controls toe aan je View en voeg de Bindings toe aan de eigenschappen van de controls. Voeg ook een verwijzing toe naar je ViewModel bovenaan je View.</li><li>Registreer je nieuwe ViewModel en View in MauiProgram.cs.</li><li>Pas Dependency Injection toe van je ViewModel in de code-behind van je View.</li></ol></blockquote><p>Pas dit stappenplan toe op de voorbeelden uit Hoofdstuk één.</p><h2 id="voorbeeld-1-labelspage-xaml" tabindex="-1"><a class="header-anchor" href="#voorbeeld-1-labelspage-xaml" aria-hidden="true">#</a> Voorbeeld 1: LabelsPage.xaml</h2><p>Op deze View heb je een GridLayout ontworpen met een aantal labels. De opdracht is om een verschillende eigenschappen van de labels te binden met een ViewModel.</p><ol><li>Maak een nieuw ViewModel <code>LabelsViewModel</code>. Dit wordt een <em>public partial class</em> die overerft van <em>ObservableObject</em>. Maak ObservableProperties aan fontSize, text, textColor, fontAttributes en padding. Deze variabelen instantiëer je in de constructor van het ViewModel.</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">namespace</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>ViewModels</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">LabelsViewModel</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObservableObject</span></span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ObservableProperty</span></span><span class="token punctuation">]</span>
        <span class="token class-name"><span class="token keyword">string</span></span> text<span class="token punctuation">,</span> textColor<span class="token punctuation">;</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ObservableProperty</span></span><span class="token punctuation">]</span>
        <span class="token class-name">FontAttributes</span> fontAttributes<span class="token punctuation">;</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ObservableProperty</span></span><span class="token punctuation">]</span>
        <span class="token class-name"><span class="token keyword">int</span></span> fontSize<span class="token punctuation">,</span> padding<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">LabelsViewModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            FontSize <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>
            Text <span class="token operator">=</span> <span class="token string">&quot;Dit is binding&quot;</span><span class="token punctuation">;</span>
            FontAttributes <span class="token operator">=</span> FontAttributes<span class="token punctuation">.</span>Bold<span class="token punctuation">;</span>
            TextColor <span class="token operator">=</span> <span class="token string">&quot;#AABBCC&quot;</span><span class="token punctuation">;</span>
            Padding <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Voeg een verwijzing en een datatype toe aan je .xaml bestand. Pas de statische eigenschappen van de controls aan zodat ze nu binden met de variabelen uit je ViewModel.</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentPage</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.microsoft.com/dotnet/2021/maui<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name"><span class="token namespace">xmlns:</span>x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.microsoft.com/winfx/2009/xaml<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name"><span class="token namespace">xmlns:</span>viewmodel</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clr-namespace:MauiIntroductie.ViewModels<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name"><span class="token namespace">x:</span>DataType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewmodel:LabelsViewModel<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name"><span class="token namespace">x:</span>Class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MauiIntroductie.Views.LabelsPage<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name">Title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>LabelsPage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Grid</span> <span class="token attr-name">ColumnDefinitions</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*,*<span class="token punctuation">&quot;</span></span>
		  <span class="token attr-name">RowDefinitions</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*,*,*<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">BackgroundColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>LightGray<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">Padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Label</span> <span class="token attr-name">Grid.Row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> 
               <span class="token attr-name">Grid.ColumnSpan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding Text}<span class="token punctuation">&quot;</span></span> 
               <span class="token attr-name">VerticalOptions</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Center<span class="token punctuation">&quot;</span></span> 
               <span class="token attr-name">HorizontalOptions</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Center<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">HeightRequest</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">FontSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Large<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Label</span> <span class="token attr-name">Grid.Row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> 
               <span class="token attr-name">Grid.Column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Voorbeeld1<span class="token punctuation">&quot;</span></span> 
               <span class="token attr-name">FontAttributes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding FontAttributes}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Label</span> <span class="token attr-name">Grid.Row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> 
               <span class="token attr-name">Grid.Column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Voorbeeld2<span class="token punctuation">&quot;</span></span> 
               <span class="token attr-name">TextColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding TextColor}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Label</span> <span class="token attr-name">Grid.Row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> 
               <span class="token attr-name">Grid.Column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Voorbeeld3<span class="token punctuation">&quot;</span></span> 
               <span class="token attr-name">FontSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding FontSize}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Label</span> <span class="token attr-name">Grid.Row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> 
               <span class="token attr-name">Grid.Column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Voorbeeld4<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">Padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{Binding Padding}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Grid</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentPage</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>Registreer je nieuwe ViewModel en View in MauiProgram.cs.</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>    <span class="token comment">//overige code</span>
    builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>VoorbeeldPage<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>LabelsPage<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>PersoonViewModel<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>LabelsViewModel<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="highlight-lines"><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>Pas Dependency Injection toe van je ViewModel in de code-behind van je View.</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">namespace</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>Views</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">LabelsPage</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ContentPage</span></span>
<span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token function">LabelsPage</span><span class="token punctuation">(</span><span class="token class-name">LabelsViewModel</span> viewModel<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">InitializeComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		BindingContext <span class="token operator">=</span> viewModel<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Resultaat: <img src="https://i.imgur.com/fcpUcWj.png" alt="picture 4"></p><h2 id="voorbeeld2-stacklayoutpage-xaml" tabindex="-1"><a class="header-anchor" href="#voorbeeld2-stacklayoutpage-xaml" aria-hidden="true">#</a> Voorbeeld2: StackLayoutPage.xaml</h2><p>In dit voorbeeld ga je gegevens van het formulier verwerken na een druk op de knop. Hiervoor bind je de Text-eigenschappen van de Entries. Van de StackLayout met RadioButtons maak je een RadioButtonGroup. Het geselecteerde item in de group bind je met een property in je ViewModel. Voorzie ook elke RadioButton van een Value. Daarna bind je de <em>Command</em>-eigenschap van de knop met een <strong>[RelayCommand]</strong> in je ViewModel.</p><ol><li>Maak een nieuw ViewModel <code>StackLayoutViewModel</code>.Maak ObservableProperties aan voor naam, email, telefoon, uitvoer en geslacht. Deze variabelen instantiëer je in de constructor van het ViewModel. String.Empty gebruiken in plaats van een lege string (&quot;&quot;) vergroot de leesbaarheid (het is heel duidelijk dat de string leeg is). Op die manier kun je geen fouten maken door bv een spatie tussen de aanhalingstekens te typen.</li></ol><p>In het ViewModel maak je een methode <em>UitvoerTonen</em> die voorzien is van het kenmerk <strong>RelayCommand</strong>. Dit genereert op de achtergrond een methode <strong>UitvoerTonenCommand</strong> die je kunt binden aan de knop op je View. De methode gaat alle variabelen combineren in de variabele <em>Uitvoer</em>.</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">namespace</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>ViewModels</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">StackLayoutViewModel</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObservableObject</span></span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ObservableProperty</span></span><span class="token punctuation">]</span>
        <span class="token class-name"><span class="token keyword">string</span></span> naam<span class="token punctuation">,</span> email<span class="token punctuation">,</span> telefoon<span class="token punctuation">,</span> uitvoer<span class="token punctuation">,</span> geslacht<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">StackLayoutViewModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Naam <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
            Email <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
            Telefoon <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
            Uitvoer <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">RelayCommand</span></span><span class="token punctuation">]</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">UitvoerTonen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Uitvoer <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;Dag </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Naam</span><span class="token punctuation">}</span></span><span class="token string">, je emailadres is </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Email</span><span class="token punctuation">}</span></span><span class="token string">, je geslacht is </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Geslacht</span><span class="token punctuation">}</span></span><span class="token string"> en ik kan je bellen op het nummer </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Telefoon</span><span class="token punctuation">}</span></span><span class="token string">.&quot;</span></span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Voeg een verwijzing en een datatype toe aan je .xaml bestand. Voeg op de juist plaatsen binding toe.</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token operator">&lt;</span><span class="token punctuation">?</span><span class="token class-name">xml</span> version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span> <span class="token punctuation">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">ContentPage</span> xmlns<span class="token operator">=</span><span class="token string">&quot;http://schemas.microsoft.com/dotnet/2021/maui&quot;</span>
             xmlns<span class="token punctuation">:</span>x<span class="token operator">=</span><span class="token string">&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;</span>
             xmlns<span class="token punctuation">:</span>viewmodel<span class="token operator">=</span><span class="token string">&quot;clr-namespace:MauiIntroductie.ViewModels&quot;</span>
             x<span class="token punctuation">:</span>Class<span class="token operator">=</span><span class="token string">&quot;MauiIntroductie.Views.StackLayoutPage&quot;</span>
             x<span class="token punctuation">:</span>DataType<span class="token operator">=</span><span class="token string">&quot;viewmodel:StackLayoutViewModel&quot;</span>
             Title<span class="token operator">=</span><span class="token string">&quot;StackLayoutPage&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>StackLayout<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>HorizontalStackLayout<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token class-name">Entry</span> Placeholder<span class="token operator">=</span><span class="token string">&quot;Naam&quot;</span> Text<span class="token operator">=</span><span class="token string">&quot;{Binding Naam}&quot;</span> Margin<span class="token operator">=</span><span class="token string">&quot;5&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token class-name">Entry</span> Placeholder<span class="token operator">=</span><span class="token string">&quot;E-mailadres&quot;</span> Text<span class="token operator">=</span><span class="token string">&quot;{Binding Email}&quot;</span> Keyboard<span class="token operator">=</span><span class="token string">&quot;Email&quot;</span> Margin<span class="token operator">=</span><span class="token string">&quot;5&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>HorizontalStackLayout<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token class-name">Entry</span> Placeholder<span class="token operator">=</span><span class="token string">&quot;Telefoonnummer&quot;</span> Text<span class="token operator">=</span><span class="token string">&quot;{Binding Telefoon}&quot;</span> Keyboard<span class="token operator">=</span><span class="token string">&quot;Telephone&quot;</span> Margin<span class="token operator">=</span><span class="token string">&quot;5&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token class-name">StackLayout</span> Margin<span class="token operator">=</span><span class="token string">&quot;5&quot;</span> RadioButtonGroup<span class="token punctuation">.</span>SelectedValue<span class="token operator">=</span><span class="token string">&quot;{Binding Geslacht}&quot;</span>
                     RadioButtonGroup<span class="token punctuation">.</span>GroupName<span class="token operator">=</span><span class="token string">&quot;Geslacht&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token class-name">Label</span> Text<span class="token operator">=</span><span class="token string">&quot;Geslacht&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token class-name">RadioButton</span> Content<span class="token operator">=</span><span class="token string">&quot;M&quot;</span> Value<span class="token operator">=</span><span class="token string">&quot;M&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token class-name">RadioButton</span> Content<span class="token operator">=</span><span class="token string">&quot;V&quot;</span> Value<span class="token operator">=</span><span class="token string">&quot;V&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token class-name">RadioButton</span> Content<span class="token operator">=</span><span class="token string">&quot;Andere&quot;</span> Value<span class="token operator">=</span><span class="token string">&quot;Andere&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>StackLayout<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token class-name">Button</span> Text<span class="token operator">=</span><span class="token string">&quot;Opslaan&quot;</span> Command<span class="token operator">=</span><span class="token string">&quot;{Binding UitvoerTonenCommand}&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">Label</span> Text<span class="token operator">=</span><span class="token string">&quot;{Binding Uitvoer}&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>StackLayout<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ContentPage<span class="token operator">&gt;</span>
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>Registreer je nieuwe ViewModel en View in MauiProgram.cs.</li><li>Pas Dependency Injection toe van je ViewModel in de code-behind van je View.</li></ol><p>Resultaat: <img src="https://i.imgur.com/fuof37K.png" alt="picture 5"></p><h2 id="voorbeeld-3-fotopage-xaml" tabindex="-1"><a class="header-anchor" href="#voorbeeld-3-fotopage-xaml" aria-hidden="true">#</a> Voorbeeld 3: FotoPage.xaml</h2><p>In dit voorbeeld ga je de hoogte en breedte bepalen van afbeelding met behulp van een slider en stepper. Deze controls hebben geen Text-eigenschap (string) maar een Value-eigenschap (int) die je via het ViewModel bind aan de height- en widthrequest van de afbeelding.</p><ol><li>Maak een nieuw ViewModel <code>FotoViewModel</code>. Maak ObservableProperties aan voor hoogte en breedte.</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">namespace</span> <span class="token namespace">MauiIntroductie<span class="token punctuation">.</span>ViewModels</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">FotoViewModel</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObservableObject</span></span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ObservableProperty</span></span><span class="token punctuation">]</span>
        <span class="token class-name"><span class="token keyword">int</span></span> hoogte<span class="token punctuation">,</span> breedte<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Pas je View aan met de juiste bindings en verwijzingen.</li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token operator">&lt;</span><span class="token punctuation">?</span><span class="token class-name">xml</span> version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span> encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span> <span class="token punctuation">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">ContentPage</span> xmlns<span class="token operator">=</span><span class="token string">&quot;http://schemas.microsoft.com/dotnet/2021/maui&quot;</span>
             xmlns<span class="token punctuation">:</span>x<span class="token operator">=</span><span class="token string">&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;</span>
             xmlns<span class="token punctuation">:</span>viewmodel<span class="token operator">=</span><span class="token string">&quot;clr-namespace:MauiIntroductie.ViewModels&quot;</span>
             x<span class="token punctuation">:</span>Class<span class="token operator">=</span><span class="token string">&quot;MauiIntroductie.Views.FotoPage&quot;</span>
             x<span class="token punctuation">:</span>DataType<span class="token operator">=</span><span class="token string">&quot;viewmodel:FotoViewModel&quot;</span>
             Title<span class="token operator">=</span><span class="token string">&quot;FotoPage&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ScrollView<span class="token operator">&gt;</span>        
        <span class="token operator">&lt;</span><span class="token class-name">VerticalStackLayout</span> Margin<span class="token operator">=</span><span class="token string">&quot;10,0&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>HorizontalStackLayout<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token class-name">Label</span> Text<span class="token operator">=</span><span class="token string">&quot;Hoogte:&quot;</span> VerticalOptions<span class="token operator">=</span><span class="token string">&quot;Center&quot;</span> Margin<span class="token operator">=</span><span class="token string">&quot;5,0&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token class-name">Label</span> Text<span class="token operator">=</span><span class="token string">&quot;{Binding Hoogte}&quot;</span> VerticalOptions<span class="token operator">=</span><span class="token string">&quot;Center&quot;</span> Margin<span class="token operator">=</span><span class="token string">&quot;0,0,5,0&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token class-name">Stepper</span> Increment<span class="token operator">=</span><span class="token string">&quot;10&quot;</span> Minimum<span class="token operator">=</span><span class="token string">&quot;100&quot;</span> Maximum<span class="token operator">=</span><span class="token string">&quot;600&quot;</span> Value<span class="token operator">=</span><span class="token string">&quot;{Binding Hoogte}&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>HorizontalStackLayout<span class="token operator">&gt;</span>
            
            <span class="token operator">&lt;</span>HorizontalStackLayout<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token class-name">Label</span> Text<span class="token operator">=</span><span class="token string">&quot;Breedte:&quot;</span> VerticalOptions<span class="token operator">=</span><span class="token string">&quot;Center&quot;</span> Margin<span class="token operator">=</span><span class="token string">&quot;5,0&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token class-name">Label</span> Text<span class="token operator">=</span><span class="token string">&quot;{Binding Breedte}&quot;</span> VerticalOptions<span class="token operator">=</span><span class="token string">&quot;Center&quot;</span> Margin<span class="token operator">=</span><span class="token string">&quot;0,0,5,0&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token class-name">Slider</span> Minimum<span class="token operator">=</span><span class="token string">&quot;100&quot;</span> Maximum<span class="token operator">=</span><span class="token string">&quot;1000&quot;</span> WidthRequest<span class="token operator">=</span><span class="token string">&quot;200&quot;</span> Value<span class="token operator">=</span><span class="token string">&quot;{Binding Breedte}&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>HorizontalStackLayout<span class="token operator">&gt;</span>
            
            <span class="token operator">&lt;</span><span class="token class-name">Image</span> Source<span class="token operator">=</span><span class="token string">&quot;landscape_tree.jpg&quot;</span>                          
                   HeightRequest<span class="token operator">=</span><span class="token string">&quot;{Binding Hoogte}&quot;</span>
                   WidthRequest<span class="token operator">=</span><span class="token string">&quot;{Binding Breedte}&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>VerticalStackLayout<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ScrollView<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ContentPage<span class="token operator">&gt;</span>
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>Registreer je nieuwe ViewModel en View in MauiProgram.cs.</li><li>Pas Dependency Injection toe van je ViewModel in de code-behind van je View.</li></ol><p>Resultaat: <img src="https://i.imgur.com/iaYMnCk.png" alt="picture 7"></p>
</div>
